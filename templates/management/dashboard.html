{% extends 'base-manage.html' %}
{% load static %}
{% block title %}dashboard{% endblock %}
{% block link %}
    <script src="{% static 'echarts/echarts.min.js' %}" charset="utf-8"></script>
    <script src="{% static 'echarts/wonderland.js' %}" charset="utf-8"></script>
{% endblock %}

{% block content %}
    <div class="manage-body page-main page-main-management">
        <!--            网站信息统计-->
        <div class="layui-row layui-col-space15">
            <div class="layui-col-sm6 layui-col-md3">
                <div class="cintent-card">
                    <div class="layui-card-header">
                        页面访问量
                        <span class="layui-badge layui-bg-blue layuiadmin-badge">月</span>
                    </div>
                    <div class="layui-card-body layuiadmin-card-list">
                        <p class="layuiadmin-big-font">3432</p>
                        <p>
                            总页面访问量
                            <span class="layuiadmin-span-color">12345 <i class="layui-icon"></i></span>
                        </p>
                    </div>
                </div>
            </div>
            <div class="layui-col-sm6 layui-col-md3">
                <div class="cintent-card">
                    <div class="layui-card-header">
                        用户访问量
                        <span class="layui-badge layui-bg-blue layuiadmin-badge">月</span>
                    </div>
                    <div class="layui-card-body layuiadmin-card-list">
                        <p class="layuiadmin-big-font">432</p>
                        <p>
                            总用户访问量
                            <span class="layuiadmin-span-color">2345
                                    <i class="layui-icon layui-icon-username"></i>
                                </span>
                        </p>
                    </div>
                </div>
            </div>
            <div class="layui-col-sm6 layui-col-md3">
                <div class="cintent-card">
                    <div class="layui-card-header">
                        收入
                        <span class="layui-badge layui-bg-blue layuiadmin-badge">月</span>
                    </div>
                    <div class="layui-card-body layuiadmin-card-list">
                        <p class="layuiadmin-big-font">43</p>
                        <p>
                            总收入
                            <span class="layuiadmin-span-color">225
                                    <i class="layui-icon layui-icon-rmb"></i>
                                </span>
                        </p>
                    </div>
                </div>
            </div>
            <div class="layui-col-sm6 layui-col-md3">
                <div class="cintent-card">
                    <div class="layui-card-header">
                        注册用户数
                        <span class="layui-badge layui-bg-blue layuiadmin-badge">月</span>
                    </div>
                    <div class="layui-card-body layuiadmin-card-list">
                        <p class="layuiadmin-big-font">42</p>
                        <p>
                            总注册用户数
                            <span class="layuiadmin-span-color">125
                                    <i class="layui-icon layui-icon-user"></i>
                                </span>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <!--            页面访问量折线图-->
        <div class="layui-row layui-col-space15">
            <div class="layui-col-sm12">
                <div class="cintent-card">
                    <div class="layui-card-header">
                        流量数据
                        <div class="layui-btn-group layuiadmin-btn-group">
                            <button class="layui-btn layui-btn-primary layui-btn-xs">去年</button>
                            <button class="layui-btn layui-btn-primary layui-btn-xs">今年</button>
                        </div>
                    </div>
                    <div class="layui-card-body">
                        <div class="layui-row">
                            <div class="layui-col-sm8">
                                <div id="data-statistics" style="width: 100%; height:450px;"></div>
                            </div>
                            <div class="layui-col-sm4">
                                <div class="layuiadmin-card-list">
                                    <p class="layuiadmin-normal-font">月PV数</p>
                                    <span>同上期增长</span>
                                    <div class="layui-progress layui-progress-big" lay-showpercent="yes">
                                        <div class="layui-progress-bar" lay-percent="30%" style="width: 30%;"><span
                                                class="layui-progress-text">30%</span></div>
                                    </div>
                                </div>
                                <div class="layuiadmin-card-list">
                                    <p class="layuiadmin-normal-font">月UV数</p>
                                    <span>同上期增长</span>
                                    <div class="layui-progress layui-progress-big" lay-showpercent="yes">
                                        <div class="layui-progress-bar" lay-percent="20%" style="width: 20%;"><span
                                                class="layui-progress-text">20%</span></div>
                                    </div>
                                </div>
                                <div class="layuiadmin-card-list">
                                    <p class="layuiadmin-normal-font">月收入</p>
                                    <span>同上期增长</span>
                                    <div class="layui-progress layui-progress-big" lay-showpercent="yes">
                                        <div class="layui-progress-bar" lay-percent="25%" style="width: 25%;"><span
                                                class="layui-progress-text">25%</span></div>
                                    </div>
                                </div>
                                <div class="layuiadmin-card-list">
                                    <p class="layuiadmin-normal-font">注册用户数</p>
                                    <span>同上期增长</span>
                                    <div class="layui-progress layui-progress-big" lay-showpercent="yes">
                                        <div class="layui-progress-bar" lay-percent="25%" style="width: 25%;"><span
                                                class="layui-progress-text">25%</span></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--            服务器性能统计-->
        <div class="layui-row layui-col-space15">
            <div class="layui-col-sm12 layui-col-md6">
                <div class="cintent-card">
                    <div class="layui-card-header">
                        访客浏览器分布
                    </div>
                    <div id="browser-source" style="width: 100%; height:235px;"></div>
                </div>
            </div>
            <div class="layui-col-sm12 layui-col-md6">
                <div class="cintent-card">
                    <div class="layui-card-header">实时监控</div>
                    <div class="layui-card-body layadmin-takerates">
                        <div class="progress-bar-row">
                            <h3>CPU使用率</h3>
                            <div class="layui-progress layui-progress-big" lay-showpercent="true">
                                <div class="layui-progress-bar" lay-percent="20%"></div>
                            </div>
                        </div>
                        <div class="progress-bar-row">
                            <h3>内存使用率</h3>
                            <div class="layui-progress layui-progress-big" lay-showpercent="true">
                                <div class="layui-progress-bar layui-bg-orange" lay-percent="60%"></div>
                            </div>
                        </div>
                        <div class="progress-bar-row">
                            <h3>磁盘使用率</h3>
                            <div class="layui-progress layui-progress-big" lay-showpercent="true">
                                <div class="layui-progress-bar layui-bg-red" lay-percent="80%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block js %}
    <script>
        // 导航栏当前标签页
        $('#nav1-1').addClass("layui-this")
        $('#nav1-1').parents("li").addClass("layui-nav-itemed")
    </script>
    <script>
        // 流量分析折线图
        var myChart = echarts.init(document.getElementById('data-statistics'), 'wonderland');
        // 指定图表的配置项和数据
        var option = {
            // title: {
            //     text: '流量分析'
            // },
            tooltip: {
                trigger: 'axis'
            },
            legend: {
                data: ['pv', 'uv', '收入', '注册用户数']
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            toolbox: {
                feature: {
                    saveAsImage: {}
                }
            },
            xAxis: {
                type: 'category',
                boundaryGap: false,
                data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日']
            },
            yAxis: {
                type: 'value',
            },
            series: [
                {
                    name: 'pv',
                    type: 'line',
                    stack: '总量',
                    data: [120, 132, 101, 134, 90, 230, 210],
                    markPoint: {
                        data: [
                            {type: 'max', name: '最大值'},
                        ]
                    },
                },
                {
                    name: 'uv',
                    type: 'line',
                    stack: '总量',
                    data: [220, 182, 191, 234, 290, 330, 310],
                    markPoint: {
                        data: [
                            {type: 'max', name: '最大值'},
                        ]
                    },
                },
                {
                    name: '收入',
                    type: 'line',
                    stack: '总量',
                    data: [150, 232, 201, 154, 190, 330, 410],
                    markPoint: {
                        data: [
                            {type: 'max', name: '最大值'},
                        ]
                    },
                },
                {
                    name: '注册用户数',
                    type: 'line',
                    stack: '总量',
                    data: [320, 332, 301, 334, 390, 330, 320],
                    markPoint: {
                        data: [
                            {type: 'max', name: '最大值'},
                        ]
                    },
                }
            ]
        };

        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    </script>
    <script>
        // 访客浏览器折线图

        var myChart = echarts.init(document.getElementById('browser-source'), 'wonderland');

        // 指定图表的配置项和数据
        var option = {
            // title: {
            //     text: '访客浏览器分布',
            //     left: 'center'
            // },
            tooltip: {
                trigger: 'item',
                formatter: '{a} <br/>{b} : {c} ({d}%)'
            },
            legend: {
                orient: 'vertical',
                left: 'left',
                data: ['Chrome', 'Firefox', 'IE', 'Safari', '其他浏览器']
            },
            series: [
                {
                    name: '访问来源',
                    type: 'pie',
                    radius: '55%',
                    center: ['50%', '60%'],
                    data: [
                        {value: 635, name: 'Chrome'},
                        {value: 310, name: 'Firefox'},
                        {value: 234, name: 'IE'},
                        {value: 135, name: 'Safari'},
                        {value: 648, name: '其他浏览器'}
                    ],
                    emphasis: {
                        itemStyle: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    }
                }
            ]
        };

        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    </script>
{% endblock %}